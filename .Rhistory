install.packages("learnr")
library(ggplot2)
# Load data into variable
data <- read.csv('cleaned_data.csv')
View(data)
View(data)
View(data)
data$Neighborhood..U.H.F. <- factor(data$Neighborhood..U.H.F.)
data$SEX <- factor(data$SEX)
data$RACE.ETHNICITY <- factor(data$RACE.ETHNICITY)
model <- lm(data$TOTAL.NUMBER.OF.HIV.DIAGNOSES ~ data$YEAR + data$Neighborhood..U.H.F. + data$SEX + data$RACE.ETHNICITY, data = data)
View(data)
View(model)
data$Neighborhood..U.H.F. <- factor(data$Neighborhood..U.H.F.)
data$SEX <- factor(data$SEX)
data$RACE.ETHNICITY <- factor(data$RACE.ETHNICITY)
model <- lm(data$TOTAL.NUMBER.OF.HIV.DIAGNOSES ~ data$YEAR + data$Neighborhood..U.H.F. + data$SEX + data$RACE.ETHNICITY, data = data)
summary(model)
coefficients_df <- as.data.frame(model_summary$coefficients)
data$Neighborhood..U.H.F. <- factor(data$Neighborhood..U.H.F.)
data$SEX <- factor(data$SEX)
data$RACE.ETHNICITY <- factor(data$RACE.ETHNICITY)
model <- lm(data$TOTAL.NUMBER.OF.HIV.DIAGNOSES ~ data$YEAR + data$Neighborhood..U.H.F. + data$SEX + data$RACE.ETHNICITY, data = data)
model_summary <- summary(model)
coefficients_df <- as.data.frame(model_summary$coefficients)
View(model_summary)
# 提取系数表
coefficients_df <- as.data.frame(model_summary$coefficients)
# 添加系数名称作为新列
coefficients_df$Variable = rownames(coefficients_df)
# 计算系数的绝对值
coefficients_df$AbsEstimate = abs(coefficients_df$Estimate)
# 按绝对值降序排列，并选出前五个（排除截距项）
top_coefficients_df <- coefficients_df[coefficients_df$Variable != "(Intercept)", ]
top_coefficients_df <- top_coefficients_df[order(-top_coefficients_df$AbsEstimate), ][1:5, ]
# 选择展示的列
top_coefficients_df <- top_coefficients_df[, c("Variable", "Estimate", "Std. Error", "t value", "Pr(>|t|)", "AbsEstimate")]
# 展示结果
if (!requireNamespace("knitr", quietly = TRUE)) install.packages("knitr")
library(knitr)
kable(top_coefficients_df[, -6], caption = "Top 5 Influential Categories", digits = 3)
View(top_coefficients_df)
# Extract coefficients
coefficients_df <- as.data.frame(model_summary$coefficients)
coefficients_df$Variable = rownames(coefficients_df)
coefficients_df$AbsEstimate = abs(coefficients_df$Estimate)
# Sort the data in order
top_coefficients_df <- coefficients_df[coefficients_df$Variable != "(Intercept)", ]
top_coefficients_df <- top_coefficients_df[order(-top_coefficients_df$AbsEstimate), ][1:5, ]
# Select values to display
top_coefficients_df <- top_coefficients_df[, c("Variable", "Estimate", "Std. Error", "t value", "Pr(>|t|)", "AbsEstimate")]
# Display results
if (!requireNamespace("knitr", quietly = TRUE)) install.packages("knitr")
library(knitr)
kable(top_coefficients_df[, -6], caption = "Top 5 Influential Categories", digits = 3, row.names = FALSE)
data$Neighborhood..U.H.F. <- factor(data$Neighborhood..U.H.F.)
data$SEX <- factor(data$SEX)
data$RACE.ETHNICITY <- factor(data$RACE.ETHNICITY)
model <- lm(data$TOTAL.NUMBER.OF.HIV.DIAGNOSES ~ data$YEAR + data$Neighborhood..U.H.F. + data$SEX + data$RACE.ETHNICITY, data = data)
model_summary <- summary(model)
# Extract coefficients
coefficients_df <- as.data.frame(model_summary$coefficients)
coefficients_df$Variable = rownames(coefficients_df)
coefficients_df$AbsEstimate = abs(coefficients_df$Estimate)
# Sort the data in order
top_coefficients_df <- coefficients_df[coefficients_df$Variable != "(Intercept)", ]
top_coefficients_df <- top_coefficients_df[order(-top_coefficients_df$AbsEstimate), ][1:5, ]
# Select values to display
top_coefficients_df <- top_coefficients_df[, c("Variable", "Estimate", "Std. Error", "t value", "Pr(>|t|)", "AbsEstimate")]
# Display results
if (!requireNamespace("knitr", quietly = TRUE)) install.packages("knitr")
library(knitr)
kable(top_coefficients_df[, -6], caption = "Top 5 Influential Categories", digits = 3, row.names = FALSE)
View(top_coefficients_df)
# Extract coefficients
coefficients_df <- as.data.frame(model_summary$coefficients)
coefficients_df$Variable = rownames(coefficients_df)
coefficients_df$Variable <- gsub(" ", "_", coefficients_df$Variable)
coefficients_df$Variable <- gsub("-", "_", coefficients_df$Variable)
coefficients_df$AbsEstimate = abs(coefficients_df$Estimate)
# Sort the data in order
top_coefficients_df <- coefficients_df[coefficients_df$Variable != "(Intercept)", ]
top_coefficients_df <- top_coefficients_df[order(-top_coefficients_df$AbsEstimate), ][1:5, ]
# Select values to display
top_coefficients_df <- top_coefficients_df[, c("Variable", "Estimate", "Std. Error", "t value", "Pr(>|t|)", "AbsEstimate")]
# Display results
if (!requireNamespace("knitr", quietly = TRUE)) install.packages("knitr")
library(knitr)
kable(top_coefficients_df[, -6], caption = "Top 5 Influential Categories", digits = 3, row.names = FALSE)
data$Neighborhood..U.H.F. <- factor(data$Neighborhood..U.H.F.)
data$SEX <- factor(data$SEX)
data$RACE.ETHNICITY <- factor(data$RACE.ETHNICITY)
model <- lm(data$TOTAL.NUMBER.OF.HIV.DIAGNOSES ~ data$YEAR + data$Neighborhood..U.H.F. + data$SEX + data$RACE.ETHNICITY, data = data)
model_summary <- summary(model)
# Extract coefficients
coefficients_df <- as.data.frame(model_summary$coefficients)
coefficients_df$Variable = rownames(coefficients_df)
coefficients_df$Variable <- gsub(" ", "_", coefficients_df$Variable)
coefficients_df$Variable <- gsub("-", "_", coefficients_df$Variable)
coefficients_df$AbsEstimate = abs(coefficients_df$Estimate)
# Sort the data in order
top_coefficients_df <- coefficients_df[coefficients_df$Variable != "(Intercept)", ]
top_coefficients_df <- top_coefficients_df[order(-top_coefficients_df$AbsEstimate), ][1:5, ]
# Select values to display
top_coefficients_df <- top_coefficients_df[, c("Variable", "Estimate", "Std. Error", "t value", "Pr(>|t|)", "AbsEstimate")]
# Display results
if (!requireNamespace("knitr", quietly = TRUE)) install.packages("knitr")
library(knitr)
kable(top_coefficients_df[, -6], caption = "Top 5 Influential Categories", digits = 3, row.names = FALSE)
View(top_coefficients_df)
View(data)
setwd("/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final")
getwd()
rmarkdown::render("/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final/jiawen_final_1.Rmd", output_file = "/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final")
> rmarkdown::render("/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final/jiawen_final_1.Rmd", output_file = "/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final")
rmarkdown::render("/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final/jiawen_final_1.Rmd", output_file = "/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final")
install.packages('shiny')
install.packages("shiny")
rmarkdown::render("/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final/jiawen_final_1.Rmd", output_file = "/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final")
rmarkdown::render("/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final/jiawen_final_1.Rmd", output_file = "/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final/jiawen_final_1.html")
rmarkdown::render("/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final/jiawen_final_1.Rmd", output_file = "/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final/jiawen_final_1.html")
rmarkdown::render("/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final/jiawen_final_1.Rmd", output_file = "/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final/jiawen_final_1.html")
rmarkdown::render("/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final/jiawen_final_1.Rmd", output_file = "/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final/jiawen_final_1.html")
rmarkdown::render("/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final/jiawen_final_0.Rmd", output_file = "/Users/jiawen_shi/Library/CloudStorage/OneDrive-EmoryUniversity/24spring/DATA550/final/jiawen_final_0.html")
